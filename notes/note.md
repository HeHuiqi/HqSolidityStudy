# 账户
以太坊中有两类账户（它们共用同一个地址空间）： 外部账户 由公钥-私钥对（也就是人）控制； 合约账户 由和账户一起存储的代码控制.

外部账户的地址是由公钥决定的，而合约账户的地址是在创建该合约时确定的（这个地址通过合约创建者的地址和从该地址发出过的交易数量计算得到的，也就是所谓的`nonce`）

无论帐户是否存储代码，这两类账户对 EVM 来说是一样的。

每个账户都有一个键值对形式的持久化存储。其中 key 和 value 的长度都是256位，我们称之为 存储 。

此外，每个账户有一个以太币余额（ balance ）（单位是`Wei`, `1 ether` 是 `10**18 wei`），余额会因为发送包含以太币的交易而改变。

# 交易
交易可以看作是从一个帐户发送到另一个帐户的消息（这里的账户，可能是相同的或特殊的零帐户，请参阅下文）。它能包含一个二进制数据（合约负载）和以太币。

**如果目标账户含有代码，此代码会被执行，并以 `payload` 作为入参。**

**如果目标账户是零账户（账户地址为 `0`)，此交易将创建一个新合约。** 如前文所述，合约的地址不是零地址，而是通过合约创建者的地址和从该地址发出过的交易数量计算得到的（所谓的`nonce`）。 这个用来创建合约的交易的 payload 会被转换为 EVM 字节码并执行。执行的输出将作为合约代码被永久存储。这意味着，为创建一个合约，你不需要发送实际的合约代码，而是发送能够产生合约代码的代码。
# Gas
一经创建，每笔交易都收取一定数量的 `gas` ，目的是限制执行交易所需要的工作量和为交易支付手续费。EVM 执行交易时，`gas` 将按特定规则逐渐耗尽。

`gas price` 是交易发送者设置的一个值，发送者账户需要预付的手续费= `gas_price * gas` 。如果交易执行后**还有剩余**， **`gas` 会原路返还。**

**无论执行到什么位置，一旦 `gas` 被耗尽（比如降为负值），将会触发一个 `out-of-gas` 异常。当前调用帧`（call frame）`所做的所有状态修改都将被回滚。**

译者注：调用帧（call frame），指的是下文讲到的EVM的运行栈（stack）中当前操作所需要的若干元素。
